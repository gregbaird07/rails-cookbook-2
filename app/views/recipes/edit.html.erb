<% content_for :title, "Edit #{@recipe.title} - Recipe Cookbook" %>

<div class="row justify-content-center">
  <div class="col-lg-8">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><%= link_to "All Recipes", recipes_path %></li>
        <li class="breadcrumb-item"><%= link_to @recipe.title, @recipe %></li>
        <li class="breadcrumb-item active" aria-current="page">Edit</li>
      </ol>
    </nav>

    <div class="card">
      <div class="card-header">
        <h1><i class="bi bi-pencil"></i> Edit Recipe</h1>
        <p class="card-text">Update your recipe details</p>
      </div>
      
      <div class="card-body">
        <%= form_with model: @recipe, local: true do |form| %>
          <%= render 'shared/error_messages', object: @recipe %>

          <div class="mb-3">
            <%= form.label :title, class: "form-label" %>
            <%= form.text_field :title, class: "form-control form-control-lg" %>
          </div>

          <div class="mb-3">
            <%= form.label :description, class: "form-label" %>
            <%= form.text_area :description, rows: 3, class: "form-control" %>
          </div>

          <div class="row">
            <div class="col-md-4 mb-3">
              <%= form.label :prep_time, "Prep Time (minutes)", class: "form-label" %>
              <%= form.number_field :prep_time, class: "form-control", min: 0 %>
            </div>
            <div class="col-md-4 mb-3">
              <%= form.label :cook_time, "Cook Time (minutes)", class: "form-label" %>
              <%= form.number_field :cook_time, class: "form-control", min: 0 %>
            </div>
            <div class="col-md-4 mb-3">
              <%= form.label :servings, class: "form-label" %>
              <%= form.number_field :servings, class: "form-control", min: 1 %>
            </div>
          </div>

          <div class="mb-3">
            <%= form.label :ingredients, class: "form-label" %>
            <small class="text-muted">(Use bullet points â€¢ for each ingredient)</small>
            <%= form.text_area :ingredients, rows: 8, class: "form-control" %>
          </div>

          <div class="mb-4">
            <%= form.label :instructions, class: "form-label" %>
            <small class="text-muted">(Number each step)</small>
            <%= form.text_area :instructions, rows: 10, class: "form-control" %>
          </div>

          <div class="d-flex justify-content-between">
            <div>
              <%= link_to "Cancel", @recipe, class: "btn btn-outline-secondary" %>
              <%= link_to "View Recipe", @recipe, class: "btn btn-outline-primary" %>
            </div>
            <%= form.submit "Update Recipe", class: "btn btn-success btn-lg" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
